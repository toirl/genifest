name: Slashcarbon
description: This is a simple testfile
tags:
initialize:
  plugins:
    # Interpolates power based on CPU usage
    # Requires
    # - cpu/thermal-design-power for each machine as power consumption at 100% CPU
    teads-curve:
      path: "@grnsft/if-unofficial-plugins"
      method: TeadsCurve
      global-config:
        interpolation: spline
    # Interpolates power based on MEM usage
    # Requires
    # - memory/utilization: Total memory used in the timeframe
    # - memory/capacity: Total memory available
    e-mem:
      method: EMem
      path: "@grnsft/if-plugins"
    sci-e:
      method: SciE
      path: "@grnsft/if-plugins"
    sci-m:
      method: SciM
      path: "@grnsft/if-plugins"
    sci-o:
      method: SciO
      path: "@grnsft/if-plugins"
  outputs:
    - yaml
tree:
  defaults:
    cpu/thermal-design-power: 40
    device/emissions-embodied: 147000 # gCO2eq for Apple M2 256GB
    device/expected-lifespan: 94608000 # 3 years in seconds
    resources-total: 1 # I guess CPU available
    resources-reserved: 1 # I guess CPU reseverd for the application
    grid/carbon-intensity: 500 # Quick calculation on data from electicity maps
  children:
    localhost:
      pipeline:
        - teads-curve
        - e-mem
        - sci-e
        - sci-m
        - sci-o
      config:
      defaults:
      inputs:
    127.0.0.1:
      pipeline:
        - teads-curve
        - e-mem
        - sci-e
        - sci-m
        - sci-o
      config:
      defaults:
      inputs:
